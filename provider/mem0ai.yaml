identity:
  author: sysam68
  name: mem0ai-local
  label:
    en_US: mem0ai-local
    zh_Hans: mem0ai-local
  description:
    en_US: mem0ai-local plugin, local-only mode, async_mode enabled by default.
  zh_Hans: mem0ai-local 插件，仅本地模式，async_mode 默认开启。
  icon: mem0_plugin.png
  tags:
    - utilities
credentials_for_provider:
  async_mode:
    type: boolean
    required: false
    default: true
    label:
      en_US: Async Mode
      zh_Hans: 异步模式
    help:
      en_US: "When async mode is enabled, all Mem0 operations run asynchronously and concurrently. Search waits for results; Add does not."
      zh_Hans: "开启异步模式后，所有Mem0的操作都异步并发执行，Search操作会等待返回结果而Add操作不会。"
  expiration_time:
    type: text-input
    required: false
    label:
      en_US: Expiration Time (integer + unit)
      zh_Hans: 过期时间（整数 + 单位）
    placeholder:
      en_US: 30d, 2h, 90min
      zh_Hans: 30d, 2h, 90min
    help:
      en_US: Global expiration (e.g., 30d, 2h). Overrides per-call expiration_date; if set, add_memory always uses this.
      zh_Hans: 全局过期时间（例如 30d、2h）。若配置，则会覆盖工具调用中的 expiration_date，并始终生效。
  local_llm_json:
    type: text-input
    required: true
    label:
      en_US: LLM (JSON)
      zh_Hans: LLM（JSON）
    placeholder:
      en_US: '{"provider":"azure_openai","config":{...}}'
      zh_Hans: '{"provider":"azure_openai","config":{...}}'
  instructions:
    type: text-input
    required: false
    label:
      en_US: Instructions (2048 chars)
      zh_Hans: 指令（最多 2048 字符）
    placeholder:
      en_US: Provide custom instructions for the Mem0 project
      zh_Hans: 为 Mem0 项目提供自定义指令
    help:
      en_US: Optional custom instructions applied at the project level; sent via project.update(custom_instructions=...).
      zh_Hans: 可选项目级指令，通过 project.update(custom_instructions=...) 应用。
  custom_fact_extraction_prompt:
    type: text-input
    required: false
    label:
      en_US: Custom Fact Extraction Prompt
      zh_Hans: 自定义事实提取提示词
    placeholder:
      en_US: Optional fact extraction prompt override
      zh_Hans: 可选的事实提取提示词覆盖
    help:
      en_US: If provided, sets custom_fact_extraction_prompt in Mem0 config.
      zh_Hans: 如填写，将设置 Mem0 配置中的 custom_fact_extraction_prompt。
  custom_update_memory_prompt:
    type: text-input
    required: false
    label:
      en_US: Custom Update Memory Prompt
      zh_Hans: 自定义记忆更新提示词
    placeholder:
      en_US: Optional update memory prompt override
      zh_Hans: 可选的记忆更新提示词覆盖
    help:
      en_US: If provided, sets custom_update_memory_prompt in Mem0 config.
      zh_Hans: 如填写，将设置 Mem0 配置中的 custom_update_memory_prompt。
  local_embedder_json:
    type: text-input
    required: true
    label:
      en_US: Embedder (JSON)
      zh_Hans: 向量模型（JSON）
    placeholder:
      en_US: '{"provider":"azure_openai","config":{...}}'
      zh_Hans: '{"provider":"azure_openai","config":{...}}'
  collection_name:
    type: text-input
    required: false
    label:
      en_US: Collection name (override the JSON config)
      zh_Hans: 集合名称（覆盖 JSON 配置）
    placeholder:
      en_US: memories
      zh_Hans: memories
    help:
      en_US: Optional collection/table name for the vector store. If set, overrides the collection_name inside the Vector DB JSON config.
      zh_Hans: 可选，向量库的集合/表名称。填写后将覆盖向量数据库 JSON 配置中的 collection_name。
  local_vector_db_json:
    type: text-input
    required: true
    label:
      en_US: Vector Database (JSON)
      zh_Hans: 向量数据库（JSON）
    placeholder:
      en_US: '{"provider":"pgvector","config":{...}}'
      zh_Hans: '{"provider":"pgvector","config":{...}}'
  enable_graph:
    type: boolean
    required: false
    default: false
    label:
      en_US: Enable Graph
      zh_Hans: 启用图谱
    help:
      en_US: "Enable graph mode for Mem0 project. Default is disabled; set to true to activate graph features when a graph DB is configured."
      zh_Hans: "为 Mem0 项目启用图谱模式。默认关闭；配置图数据库后设为 true 可启用图谱功能。"
  local_graph_db_json:
    type: text-input
    required: false
    label:
      en_US: Graph Database (JSON)
      zh_Hans: 图数据库（JSON）
    placeholder:
      en_US: '{"provider":"neo4j","config":{...}}'
      zh_Hans: '{"provider":"neo4j","config":{...}}'
  local_reranker_json:
    type: text-input
    required: false
    label:
      en_US: Reranker (JSON)
      zh_Hans: 重排序模型（JSON）
    placeholder:
      en_US: '{"provider":"cohere","config":{...}}'
      zh_Hans: '{"provider":"cohere","config":{...}}'

tools:
  - tools/add_memory.yaml
  - tools/search_memory.yaml
  - tools/get_all_memories.yaml
  - tools/get_memory.yaml
  - tools/update_memory.yaml
  - tools/delete_memory.yaml
  - tools/delete_all_memories.yaml
  - tools/get_memory_history.yaml
extra:
  python:
    source: provider/mem0ai.py
  expiration_time:
    type: text-input
    required: false
    label:
      en_US: Expiration Time (integer + unit)
      zh_Hans: 过期时间（整数 + 单位）
    placeholder:
      en_US: 30d, 2h, 90min
      zh_Hans: 30d, 2h, 90min
    help:
      en_US: Global expiration (e.g., 30d, 2h). Overrides per-call expiration_date; if set, add_memory always uses this.
      zh_Hans: 全局过期时间（例如 30d、2h）。若配置，则会覆盖工具调用中的 expiration_date，并始终生效。
